{"status":200,"content":"ICAgIGxvY2FsIGJpdCA9IHJlcXVpcmUgImJpdCIKICAgIGxvY2FsIGh0dHAgPSByZXF1aXJlICJnYW1lc2Vuc2UvaHR0cCIKICAgIGxvY2FsIGVudCA9IHJlcXVpcmUgImdhbWVzZW5zZS9lbnRpdHkiCiAgICBsb2NhbCBlYXNpbmcgPSByZXF1aXJlICJnYW1lc2Vuc2UvZWFzaW5nIgogICAgbG9jYWwgYmFzZTY0ID0gcmVxdWlyZSAiZ2FtZXNlbnNlL2Jhc2U2NCIKICAgIGxvY2FsIHZlY3RvciA9IHJlcXVpcmUgInZlY3RvciIKICAgIGxvY2FsIGltYWdlcyA9IHJlcXVpcmUgImdhbWVzZW5zZS9pbWFnZXMiCiAgICBsb2NhbCBzdXJmYWNlID0gcmVxdWlyZSAiZ2FtZXNlbnNlL3N1cmZhY2UiCiAgICBsb2NhbCBjbGlwYm9hcmQgPSByZXF1aXJlICJnYW1lc2Vuc2UvY2xpcGJvYXJkIgogICAgbG9jYWwgZGlzY29yZCA9IHJlcXVpcmUgImdhbWVzZW5zZS9kaXNjb3JkX3dlYmhvb2tzIgogICAgbG9jYWwgY3Nnb193ZWFwb25zID0gcmVxdWlyZSAiZ2FtZXNlbnNlL2NzZ29fd2VhcG9ucyIKICAgIGxvY2FsIGFudGlhaW1fZnVuY3MgPSByZXF1aXJlICJnYW1lc2Vuc2UvYW50aWFpbV9mdW5jcyIKICAgIGxvY2FsIGluc3BlY3QgPSByZXF1aXJlICdnYW1lc2Vuc2UvaW5zcGVjdCcKICAgIGxvY2FsIHRhYiwgY29udGFpbmVyID0gIkFBIiwgIk90aGVyIgogICAgbG9jYWwgc2V0LCBnZXQgPSB1aS5zZXQsIHVpLmdldAoKICAgIGxvY2FsIHIxXzAgPSBiaXQ7CiAgICBsb2NhbCByODdfMCA9IHVpOwogICAgbG9jYWwgcjg4XzAgPSBjbGllbnQ7CiAgICBsb2NhbCByODlfMCA9IGVudGl0eTsKICAgIGxvY2FsIHI5MF8wID0gcmVuZGVyZXI7CiAgICBsb2NhbCByOTJfMCA9IHBhbm9yYW1hOwogICAgbG9jYWwgcjRfMTM4ID0gcjg3XzAubmV3X2NvbWJvYm94OwogICAgbG9jYWwgcjVfMTM4ID0gcjg3XzAubmV3X2NoZWNrYm94OwogICAgbG9jYWwgcjZfMTM4ID0gcjg3XzAubmV3X211bHRpc2VsZWN0OwogICAgbG9jYWwgcjdfMTM4ID0gcjg3XzAubmV3X2xhYmVsOwogICAgbG9jYWwgcjhfMTM4ID0gcjg3XzAubmV3X2NvbG9yX3BpY2tlcjsKICAgIGxvY2FsIHIzNV8xMzggPSByZXF1aXJlKCJnYW1lc2Vuc2UvZW50aXR5Iikgb3IgZXJyb3IoIkZhaWxlZCB0byBsb2FkIGVudGl0eSB8IGh0dHBzOi8vZ2FtZXNlbnNlLnB1Yi9mb3J1bXMvdmlld3RvcGljLnBocD9pZD0yNzUyOSIpOwoKICAgIGxvY2FsIGZmaSA9IHJlcXVpcmUgJ2ZmaScKICAgIGxvY2FsIGNycl90ID0gZmZpLnR5cGVvZigndm9pZCooX190aGlzY2FsbCopKHZvaWQqKScpCiAgICBsb2NhbCBjcl90ID0gZmZpLnR5cGVvZigndm9pZCooX190aGlzY2FsbCopKHZvaWQqKScpCiAgICBsb2NhbCBnbV90ID0gZmZpLnR5cGVvZignY29uc3Qgdm9pZCooX190aGlzY2FsbCopKHZvaWQqKScpCiAgICBsb2NhbCBnc2FfdCA9IGZmaS50eXBlb2YoJ2ludChfX2Zhc3RjYWxsKikodm9pZCosIHZvaWQqLCBpbnQpJykKCiAgICBsb2NhbCBjbGFzc3B0ciA9IGZmaS50eXBlb2YoJ3ZvaWQqKionKQogICAgbG9jYWwgcmF3aWVudGl0eWxpc3QgPSBjbGllbnQuY3JlYXRlX2ludGVyZmFjZSgnY2xpZW50LmRsbCcsICdWQ2xpZW50RW50aXR5TGlzdDAwMycpIG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignVkNsaWVudEVudGl0eUxpc3QwMDMgd2FzbnQgZm91bmQnLCAyKQoKICAgIGxvY2FsIGllbnRpdHlsaXN0ID0gZmZpLmNhc3QoY2xhc3NwdHIsIHJhd2llbnRpdHlsaXN0KSBvciBlcnJvcigncmF3aWVudGl0eWxpc3QgaXMgbmlsJywgMikKICAgIGxvY2FsIGdldF9jbGllbnRfbmV0d29ya2FibGUgPSBmZmkuY2FzdCgndm9pZCooX190aGlzY2FsbCopKHZvaWQqLCBpbnQpJywgaWVudGl0eWxpc3RbMF1bMF0pIG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKCdnZXRfY2xpZW50X25ldHdvcmthYmxlX3QgaXMgbmlsJywgMikKICAgIGxvY2FsIGdldF9jbGllbnRfZW50aXR5ID0gZmZpLmNhc3QoJ3ZvaWQqKF9fdGhpc2NhbGwqKSh2b2lkKiwgaW50KScsIGllbnRpdHlsaXN0WzBdWzNdKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKCdnZXRfY2xpZW50X2VudGl0eSBpcyBuaWwnLCAyKQoKICAgIGxvY2FsIHJhd2l2bW9kZWxpbmZvID0gY2xpZW50LmNyZWF0ZV9pbnRlcmZhY2UoJ2VuZ2luZS5kbGwnLCAnVk1vZGVsSW5mb0NsaWVudDAwNCcpCiAgICBsb2NhbCBpdm1vZGVsaW5mbyA9IGZmaS5jYXN0KGNsYXNzcHRyLCByYXdpdm1vZGVsaW5mbykgb3IgZXJyb3IoJ3Jhd2l2bW9kZWxpbmZvIGlzIG5pbCcsIDIpCiAgICBsb2NhbCBnZXRfc3R1ZGlvX21vZGVsID0gZmZpLmNhc3QoJ3ZvaWQqKF9fdGhpc2NhbGwqKSh2b2lkKiwgY29uc3Qgdm9pZCopJywgaXZtb2RlbGluZm9bMF1bMzJdKQoKICAgIGxvY2FsIHNlcV9hY3Rpdml0eV9zaWcgPSBjbGllbnQuZmluZF9zaWduYXR1cmUoJ2NsaWVudC5kbGwnLCAnXHg1NVx4OEJceEVDXHg1M1x4OEJceDVEXHgwOFx4NTZceDhCXHhGMVx4ODMnKQoKICAgIGxvY2FsIHVpX3VwZGF0ZSwKICAgICAgICB1aV9uZXdfY29sb3JfcGlja2VyLAogICAgICAgIHVpX3JlZmVyZW5jZSwKICAgICAgICB1aV9zZXRfdmlzaWJsZSwKICAgICAgICB1aV9uZXdfbGlzdGJveCwKICAgICAgICB1aV9uZXdfYnV0dG9uLAogICAgICAgIHVpX25ld19jaGVja2JveCwKICAgICAgICB1aV9uZXdfbGFiZWwsCiAgICAgICAgdWlfbmV3X2NvbWJvYm94LAogICAgICAgIHVpX25ld19tdWx0aXNlbGVjdCwKICAgICAgICB1aV9uZXdfc2xpZGVyLAogICAgICAgIHVpX25ld19ob3RrZXksCiAgICAgICAgdWlfc2V0X2NhbGxiYWNrLAogICAgICAgIHVpX25ld190ZXh0Ym94ID0KICAgICAgICB1aS51cGRhdGUsCiAgICAgICAgdWkubmV3X2NvbG9yX3BpY2tlciwKICAgICAgICB1aS5yZWZlcmVuY2UsCiAgICAgICAgdWkuc2V0X3Zpc2libGUsCiAgICAgICAgdWkubmV3X2xpc3Rib3gsCiAgICAgICAgdWkubmV3X2J1dHRvbiwKICAgICAgICB1aS5uZXdfY2hlY2tib3gsCiAgICAgICAgdWkubmV3X2xhYmVsLAogICAgICAgIHVpLm5ld19jb21ib2JveCwKICAgICAgICB1aS5uZXdfbXVsdGlzZWxlY3QsCiAgICAgICAgdWkubmV3X3NsaWRlciwKICAgICAgICB1aS5uZXdfaG90a2V5LAogICAgICAgIHVpLnNldF9jYWxsYmFjaywKICAgICAgICB1aS5uZXdfdGV4dGJveAogICAgbG9jYWwgZW50aXR5X2dldF9sb2NhbF9wbGF5ZXIsCiAgICAgICAgZW50aXR5X2lzX2Rvcm1hbnQsCiAgICAgICAgZW50aXR5X2dldF9wbGF5ZXJfbmFtZSwKICAgICAgICBlbnRpdHlfaGl0Ym94X3Bvc2l0aW9uLAogICAgICAgIGVudGl0eV9zZXRfcHJvcCwKICAgICAgICBlbnRpdHlfaXNfYWxpdmUsCiAgICAgICAgZW50aXR5X2dldF9wbGF5ZXJfd2VhcG9uLAogICAgICAgIGVudGl0eV9nZXRfcHJvcCwKICAgICAgICBlbnRpdHlfZ2V0X3BsYXllcnMsCiAgICAgICAgZW50aXR5X2dldF9jbGFzc25hbWUgPQogICAgICAgIGVudGl0eS5nZXRfbG9jYWxfcGxheWVyLAogICAgICAgIGVudGl0eS5pc19kb3JtYW50LAogICAgICAgIGVudGl0eS5nZXRfcGxheWVyX25hbWUsCiAgICAgICAgZW50aXR5LmhpdGJveF9wb3NpdGlvbiwKICAgICAgICBlbnRpdHkuc2V0X3Byb3AsCiAgICAgICAgZW50aXR5LmlzX2FsaXZlLAogICAgICAgIGVudGl0eS5nZXRfcGxheWVyX3dlYXBvbiwKICAgICAgICBlbnRpdHkuZ2V0X3Byb3AsCiAgICAgICAgZW50aXR5LmdldF9wbGF5ZXJzLAogICAgICAgIGVudGl0eS5nZXRfY2xhc3NuYW1lCiAgICBsb2NhbCBjbGllbnRfbGF0ZW5jeSwKICAgICAgICBjbGllbnRfdGltZXN0YW1wLAogICAgICAgIGNsaWVudF91c2VyaWRfdG9fZW50aW5kZXgsCiAgICAgICAgY2xpZW50X3NldF9ldmVudF9jYWxsYmFjaywKICAgICAgICBjbGllbnRfc2NyZWVuX3NpemUsCiAgICAgICAgY2xpZW50X2NvbG9yX2xvZywKICAgICAgICBjbGllbnRfZGVsYXlfY2FsbCwKICAgICAgICBjbGllbnRfZXhlYywKICAgICAgICBjbGllbnRfcmFuZG9tX2ludCwKICAgICAgICBjbGllbnRfcmFuZG9tX2Zsb2F0LAogICAgICAgIGNsaWVudF9zZXRfY3ZhciA9CiAgICAgICAgY2xpZW50LmxhdGVuY3ksCiAgICAgICAgY2xpZW50LnRpbWVzdGFtcCwKICAgICAgICBjbGllbnQudXNlcmlkX3RvX2VudGluZGV4LAogICAgICAgIGNsaWVudC5zZXRfZXZlbnRfY2FsbGJhY2ssCiAgICAgICAgY2xpZW50LnNjcmVlbl9zaXplLAogICAgICAgIGNsaWVudC5jb2xvcl9sb2csCiAgICAgICAgY2xpZW50LmRlbGF5X2NhbGwsCiAgICAgICAgY2xpZW50LmV4ZWMsCiAgICAgICAgY2xpZW50LnJhbmRvbV9pbnQsCiAgICAgICAgY2xpZW50LnJhbmRvbV9mbG9hdCwKICAgICAgICBjbGllbnQuc2V0X2N2YXIKICAgIGxvY2FsIG1hdGhfY2VpbCwgbWF0aF9wb3csIG1hdGhfc3FydCwgbWF0aF9mbG9vciA9IG1hdGguY2VpbCwgbWF0aC5wb3csIG1hdGguc3FydCwgbWF0aC5mbG9vcgogICAgbG9jYWwgcGxpc3Rfc2V0LCBwbGlzdF9nZXQgPSBwbGlzdC5zZXQsIHBsaXN0LmdldAogICAgbG9jYWwgZ2xvYmFsc19jdXJ0aW1lID0gZ2xvYmFscy5jdXJ0aW1lCgogICAgbG9jYWwgZnVuY3Rpb24gY29udGFpbnModGFibGUsIHZhbHVlKQogICAgICAgIGlmIHRhYmxlID09IG5pbCB0aGVuCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVuZAoKICAgICAgICB0YWJsZSA9IGdldCh0YWJsZSkKICAgICAgICBmb3IgaSA9IDAsICN0YWJsZSBkbwogICAgICAgICAgICBpZiB0YWJsZVtpXSA9PSB2YWx1ZSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGlzX3dhbGxfdmlzaWJsZShwbGF5ZXIsIHBvcykKICAgICAgICBsb2NhbCB0cmFjZSA9IGNsaWVudC50cmFjZV9saW5lKGVudGl0eV9nZXRfbG9jYWxfcGxheWVyKCksIHBvcy54LCBwb3MueSwgcG9zLnopCiAgICAgICAgcmV0dXJuIG5vdCB0cmFjZSBhbmQgbm90IGVudGl0eS5pc19vY2NsdWRlZChwbGF5ZXIsIHBvcy54LCBwb3MueSwgcG9zLnopCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc19oZWFkX3Zpc2libGUocGxheWVyKQogICAgICAgIGxvY2FsIHBvcyA9IGVudGl0eV9oaXRib3hfcG9zaXRpb24ocGxheWVyLCAiaGVhZCIpCiAgICAgICAgaWYgbm90IHBvcyB0aGVuCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVuZAogICAgICAgIHJldHVybiBpc193YWxsX3Zpc2libGUocGxheWVyLCBwb3MpCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBpc192aXNpYmxlKHBsYXllcikKICAgICAgICBsb2NhbCBwb3MgPSBlbnRpdHlfaGl0Ym94X3Bvc2l0aW9uKHBsYXllciwgImhlYWQiKQogICAgICAgIGlmIG5vdCBwb3MgdGhlbgogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gaXNfd2FsbF92aXNpYmxlKHBsYXllciwgcG9zKSBvciBpc19oZWFkX3Zpc2libGUocGxheWVyKQogICAgZW5kCgogICAgbG9jYWwgbWlzYyA9IHsKICAgICAgICBtaXNjX21lbnUgPSB1aV9uZXdfbXVsdGlzZWxlY3QoIlBsYXllcnMiLCAiQWRqdXN0bWVudHMiLCAiTWlzYyBmZWF0dXJlcyIsIHsiUmVzb2x2ZXIiLCAiSGl0bG9ncyIsICJEZWJ1ZyJ9KSwKICAgICAgICBkZWx0YV9tb2RlID0gdWkubmV3X2NvbWJvYm94KCJQbGF5ZXJzIiwgIkFkanVzdG1lbnRzIiwgIk1vXGFkZWMzYzNmZmRlIiwgeyJBdXRvbWF0aWMiLCJBSSBbQUxQSEFdIn0pLAogICAgICAgIG90aGVyX21lbnUgPSB1aS5uZXdfbXVsdGlzZWxlY3QoIlBsYXllcnMiLCAiQWRqdXN0bWVudHMiLCAiT3RoXGFkZWMzYzNmZmVyIiwgeyJEZWZlbnNpdmUgUmVzb2x2ZXIiLCAiTWF0aCBSYW5kb20gUmVzb2x2ZXIifSksCiAgICB9CgogICAgLS0gcmVzb2x2ZXIgPSB7CiAgICAtLSAgICAgeGRkZCA9IHVpLm5ld19tdWx0aXNlbGVjdCgiUGxheWVycyIsICJBZGp1c3RtZW50cyIsICJGZWF0XGFkZWMzYzNmZnVyZXMiLCB7IlJlc29sdmVyIFtSZWNvZGUgMC4xXSIsICJEZWJ1ZyJ9KSwKICAgIC0tICAgICBkZWx0YV9tb2RlID0gdWkubmV3X2NvbWJvYm94KCJQbGF5ZXJzIiwgIkFkanVzdG1lbnRzIiwgIk1vXGFkZWMzYzNmZmRlIiwgeyJBdXRvbWF0aWMiLCJBSSBbQUxQSEFdIn0pLAogICAgLS0gICAgIC0tID0gdWkubmV3X211bHRpc2VsZWN0KCJQbGF5ZXJzIiwgIkFkanVzdG1lbnRzIiwgIkFJIE1FTlUgW0FMUEhBXSIsIHsiRGlyZWN0aW9uIHByaW9yaXR5IiwgIkF2b2lkIGRhbmdlcm91cyBzZWxlY3Rpb24iLCAiQW5pbXN0YXRlIHByaW9yaXR5In0pLAogICAgLS0gICAgIG90aGVyX21lbnUgPSB1aS5uZXdfbXVsdGlzZWxlY3QoIlBsYXllcnMiLCAiQWRqdXN0bWVudHMiLCAiT3RoXGFkZWMzYzNmZmVyIiwgeyJEZWZlbnNpdmUgUmVzb2x2ZXIiLCAiTWF0aCBSYW5kb20gUmVzb2x2ZXIifSksCiAgICAtLSAgICAgc2FmZV9wb2ludCA9IHVpLm5ld19tdWx0aXNlbGVjdCgiUGxheWVycyIsICJBZGp1c3RtZW50cyIsICJTUCBFbmhhbmNlciIseyJTdGFuZCIsIm9uIGxldGhhbCIsImRlZmF1bHQiLCJ3aWRlIGppdHRlciJ9KSwKICAgIC0tICAgICAtLXJlc29sdmVyX2Rpc2FibGVyID0gdWkubmV3X211bHRpc2VsZWN0KCJQbGF5ZXJzIiwgIkFkanVzdG1lbnRzIiwgIlJlc29sdmVyIERpc2FibGVyIiwgeyJDT1JSRUNUSU9OIEFDVElWRSIsIlNUQU5EIiwgIk1PVkUiLCAiQ1JPVUNIIiwgIklOQUlSIiwgIlNMT1dXQUxLIn0pLAogICAgLS0gfSwKCgoKICAgIGxvY2FsIG9wdGlvbnMgPSB7CiAgICAgICAgZm9yY2VfYm9keV95YXcgPSB0cnVlLAogICAgICAgIGNvcnJlY3Rpb25fYWN0aXZlID0gZmFsc2UsCiAgICAgICAgbG9nZ2luZyA9IGZhbHNlCiAgICB9CgogICAgbG9jYWwgbGFzdFlhdyA9IHt9CiAgICBsb2NhbCBsYXN0Q3VycmVudFlhdyA9IHt9IAoKICAgIGxvY2FsIGppdHRlckRldGVjdGVkID0ge30KICAgIGxvY2FsIGxieUJyZWFrRGV0ZWN0ZWQgPSB7fQogICAgbG9jYWwgZGVmZW5zaXZlRGV0ZWN0ID0ge30KICAgIGxvY2FsIHBpdGNoRGV0ZWN0ID0gZmFsc2UKICAgIGxvY2FsIHlhd19zYXZlID0gMAogICAgbG9jYWwgbWlzc19zYXZlID0gMAogICAgbG9jYWwgbGFzdEhpdEFuZ2xlID0ge30KCiAgICBsb2NhbCB5YXdTbW9vdGhuZXNzID0gMC41IAoKICAgIGxvY2FsIGZ1bmN0aW9uIEFuZ2xlRGlmZmVyZW5jZShhbmdsZTEsIGFuZ2xlMikKICAgICAgICBsb2NhbCBkaWZmID0gbWF0aC5hdGFuMihtYXRoLnNpbihhbmdsZTEgLSBhbmdsZTIpLCBtYXRoLmNvcyhhbmdsZTEgLSBhbmdsZTIpKQogICAgICAgIHJldHVybiBkaWZmCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBOb3JtYWxpemVBbmdsZShhbmdsZSkKICAgICAgICB3aGlsZSBhbmdsZSA+IDE4MCBkbwogICAgICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gMzYwCiAgICAgICAgZW5kCgogICAgICAgIHdoaWxlIGFuZ2xlIDwgLTE4MCBkbwogICAgICAgICAgICBhbmdsZSA9IGFuZ2xlICsgMzYwCiAgICAgICAgZW5kCgogICAgICAgIHJldHVybiBhbmdsZQogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gbm9ybWFsaXplX2FzX3lhdyh5YXcpCiAgICAgICAgaWYgeWF3ID4gMTgwIG9yIHlhdyA8IC0xODAgdGhlbgogICAgICAgICAgICBsb2NhbCByZXZvbHV0aW9ucyA9IG1hdGguZmxvb3IoKG1hdGguYWJzKHlhdykgKyAxODApIC8gMzYwKQogICAgICAgICAgICB5YXcgPSB5YXcgLSAzNjAgKiByZXZvbHV0aW9ucwogICAgICAgIGVuZAogICAgICAgIHJldHVybiB5YXcKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIEdldEFuaW1hdGlvblN0YXRlKGVudCkKICAgICAgICBpZiBub3QgKGVudCkgdGhlbgogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbmQKICAgICAgICBsb2NhbCBwbGF5ZXJfcHRyID0gZmZpLmNhc3QoInZvaWQqKioiLCBnZXRfY2xpZW50X2VudGl0eShpZW50aXR5bGlzdCwgZW50KSkKICAgICAgICBsb2NhbCBhbmltc3RhdGVfcHRyID0gZmZpLmNhc3QoImNoYXIqIiwgcGxheWVyX3B0cikgKyAweDk5NjAKICAgICAgICBsb2NhbCBzdGF0ZSA9IGZmaS5jYXN0KCJzdHJ1Y3QgY19hbmltc3RhdGUqKiIsIGFuaW1zdGF0ZV9wdHIpWzBdCgogICAgICAgIHJldHVybiBzdGF0ZQogICAgZW5kCgoKICAgIGxvY2FsIGZ1bmN0aW9uIEdldFBsYXllclZlbG9jaXR5KHBsYXllcikKICAgICAgICBsb2NhbCB2ZWNfdmVsID0gdmVjdG9yKGVudGl0eV9nZXRfcHJvcChwbGF5ZXIsICJtX3ZlY1ZlbG9jaXR5IikpCiAgICAgICAgcmV0dXJuIG1hdGguZmxvb3IobWF0aC5zcXJ0KHZlY192ZWwueF4yICsgdmVjX3ZlbC55XjIpICsgMC41KQogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gaW5fYWlyKHBsYXllcikKICAgICAgICBsb2NhbCBmbGFncyA9IGVudGl0eV9nZXRfcHJvcChwbGF5ZXIsICJtX2ZGbGFncyIpCgogICAgICAgIGlmIGJpdC5iYW5kKGZsYWdzLCAxKSA9PSAwIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICBsb2NhbCBsYXN0VGltZSA9IGdsb2JhbHMudGlja2NvdW50KCkKICAgIGxvY2FsIGxhc3RMb3dlckJvZHlZYXdUYXJnZXQgPSAwCgogICAgbG9jYWwgZnVuY3Rpb24gTGVycChhLCBiLCB0KQogICAgICAgIHJldHVybiBhICsgKGIgLSBhKSAqIHQKICAgIGVuZAoKCiAgICB5YXdfc2F2ZSA9IDAKCiAgICBsb2NhbCBmdW5jdGlvbiBSZXNvbHZlSml0dGVyKHBsYXllciwgY3VycmVudFlhdywgY3VycmVudEV5ZUFuZ2xlc1gsIGN1cnJlbnRFeWVBbmdsZXNZKQogICAgICAgIGxvY2FsIGZ1bmN0aW9uIEFuZ2xlQmV0d2Vlbih2MSwgdjIpCiAgICAgICAgICAgIHJldHVybiBtYXRoLmRlZyhtYXRoLmFjb3MoKHYxLnggKiB2Mi54ICsgdjEueSAqIHYyLnkpIC8gKG1hdGguc3FydCh2MS54ICogdjEueCArIHYxLnkgKiB2MS55KSAqIG1hdGguc3FydCh2Mi54ICogdjIueCArIHYyLnkgKiB2Mi55KSkpKQogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCB5YXdfYm9keV94ZCA9IGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2ZsUG9zZVBhcmFtZXRlciIsIDExKQoKICAgICAgICBsb2NhbCBjdXJyZW50WWF3ID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fZmxMb3dlckJvZHlZYXdUYXJnZXQiKSAtLWxvd2VyYm9keQogICAgICAgIGxvY2FsIHBpdGNoWWF3ID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fYW5nRXllQW5nbGVzWzBdIikgLS1waXRjaAogICAgLS0gbG9jYWwgY3VycmVudFlhdzEgPSBtYXRoLmZsb29yKG5vcm1hbGl6ZV95YXcxKGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2FuZ0V5ZUFuZ2xlc1sxXSIpKSkgLS15YXcKICAgICAgICBsb2NhbCBjdXJyZW50WWF3MyA9IGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2ZsTG93ZXJCb2R5WWF3VGFyZ2V0IikKCiAgICAgICAgLS1sb2NhbCBkZWx0YSA9IGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2FuZ0V5ZUFuZ2xlc1sxXSIpCgogICAgICAgIC0tbG9jYWwgZGVsdGEgPSBhbmltc3RhdGUubV9mbEV5ZVlhdyAqIGFuaW1zdGF0ZS5tX2ZsUGxheWJhY2tSYXRlCgogICAgLS0gbG9jYWwgcjZfMTk4ID0gcjM1XzEzOC5uZXcocjRfMTk4KTsKCgogICAgICAgIGxvY2FsIGFuZ2xlID0gbWF0aC5kZWcobWF0aC5hdGFuMihlbnRpdHkuZ2V0X3Byb3AocGxheWVyLCAibV9hbmdFeWVBbmdsZXNbMV0iKSAtIGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2ZsTG93ZXJCb2R5WWF3VGFyZ2V0IiksIGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2FuZ0V5ZUFuZ2xlc1swXSIpKSkKICAgICAgICBsb2NhbCB5YXdpayA9IG1hdGgubWluKDYwLCBtYXRoLm1heCgtNjAsIChhbmdsZSAqIDEwMDAwKSkpCiAgICAtLSBsb2NhbCBkZWx0YSA9IGFuZzEgLSBhbmcyCiAgICAKICAgICAgICAtLSBpZiBkZWx0YSA+IDE4MCB0aGVuCiAgICAgICAgLS0gICAgIGRlbHRhID0gZGVsdGEgLSAzNjAKICAgICAgICAtLSBlbHNlaWYgZGVsdGEgPCAtMTgwIHRoZW4KICAgICAgICAtLSAgICAgZGVsdGEgPSBkZWx0YSArIDM2MAogICAgICAgIC0tIGVuZAoKCgogICAgICAgIGxvY2FsIGVuZW15RXllQW5nbGVzWSA9IGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2FuZ0V5ZUFuZ2xlc1sxXSIpCiAgICAgICAgbG9jYWwgbG93ZXJCb2R5WWF3VGFyZ2V0ID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fZmxMb3dlckJvZHlZYXdUYXJnZXQiKQogICAgICAgIGxvY2FsIGN1cnJlbnRfdGltZSA9IGdsb2JhbHMudGlja2NvdW50KCkKICAgICAgICBsb2NhbCB2ZWxvY2l0eSA9IEdldFBsYXllclZlbG9jaXR5KHBsYXllcikKICAgICAgICBsb2NhbCBpc2luYWlyID0gaW5fYWlyKHBsYXllcikKICAgICAgICBsb2NhbCBlbmVteVBvc2l0aW9uID0gdmVjdG9yKGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX3ZlY09yaWdpbiIpKQogICAgICAgIGxvY2FsIG5EdWNrQW1vdW50ID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fZmxEdWNrQW1vdW50IikKICAgICAgICBsb2NhbCBzbG93d2Fsa011bHRpcGxpZXIgPSAwLjgKICAgICAgICBsb2NhbCBkdWNrTXVsdGlwbGllciA9IDAuNzUKICAgICAgICBsb2NhbCBsb2NhbF9vcmlnaW4gPSB2ZWN0b3IoZW50aXR5LmdldF9wcm9wKGxvY2FsX3BsYXllciwgIm1fdmVjQWJzT3JpZ2luIikpCiAgICAgICAgbG9jYWwgZW5lbXlEaXN0YW5jZSA9IHZlY3RvcihlbnRpdHkuZ2V0X3Byb3AocGxheWVyLCAibV92ZWNPcmlnaW4iKSkKICAgICAgICBlbmVteURpc3RhbmNlID0gbG9jYWxfb3JpZ2luOmRpc3QoZW5lbXlEaXN0YW5jZSkKICAgICAgICBsb2NhbCByNDFfMTM4ID0gcmVxdWlyZSgidmVjdG9yIik7CgoKICAgICAgICBsb2NhbCBwcmVmaXggPSBmdW5jdGlvbih4LCB6KSAKICAgICAgICAgICAgcmV0dXJuICh6IGFuZCAoIlxhQzg0NTQ1RkZ0YWJzZW5zZSBcYTY5OGE2ZEZGfiBcYTQxNDE0MUZGKFxhYjViNWI1RkYlc1xhNDE0MTQxRkYpIFxhQzg0NTQ1RkYlcyIpOmZvcm1hdCh4LCB6KSBvciAoIlxhQzg0NTQ1RkZ0YWJzZW5zZSBcYTY5OGE2ZEZGfiBcYUM4NDU0NUZGJXMiKTpmb3JtYXQoeCkpIAogICAgICAgIGVuZAoKICAgIGxvY2FsIHlhd3MyID0geWF3aWsKCiAgICAgICAgCiAgICBsb2NhbCByMTA5XzEzOCA9IGZhbHNlOwogICAgCiAgICAgICAgaWYgY29udGFpbnMobWlzYy5vdGhlcl9tZW51LCAiTWF0aCBSYW5kb20gUmVzb2x2ZXIiKSB0aGVuCiAgICAgICAgICAgIHBsaXN0X3NldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyIsIHRydWUpCiAgICAgICAgICAgIHBsaXN0X3NldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyB2YWx1ZSIsIG1hdGgucmFuZG9tKC02MCwgNjApKQogICAgICAgIGVsc2VpZiB1aS5nZXQobWlzYy5kZWx0YV9tb2RlLCAiQXV0b21hdGljIikgdGhlbgogICAgICAgIGlmIHVpLmdldChtaXNjLmRlbHRhX21vZGUpID09ICJBdXRvbWF0aWMiIHRoZW4KICAgICAgICAgICAgcjEwOV8xMzggPSB0cnVlOwogICAgICAgICAgICBmb3IgcjNfMTk4LCByNF8xOTggaW4gaXBhaXJzKGVudGl0eS5nZXRfcGxheWVycyh0cnVlKSkgZG8KICAgICAgICAgICAgICAgIGxvY2FsIHI2XzE5OCA9IHIzNV8xMzgubmV3KHI0XzE5OCk7CiAgICAgICAgICAgICAgICBsb2NhbCByOF8xOTggPSB7ZW50aXR5LmdldF9wcm9wKHI0XzE5OCwgIm1fYW5nRXllQW5nbGVzIil9OwogICAgICAgICAgICAgICAgbG9jYWwgcjdfMTk4ID0gbWF0aC5mbG9vcihtYXRoLm1pbig2MCwgKGVudGl0eS5nZXRfcHJvcChwbGF5ZXIsICJtX2ZsUG9zZVBhcmFtZXRlciIsIDExKSAqIDEyMCkgLSA2MCkpOwogICAgICAgICAgICAgICAgbG9jYWwgcjEwXzE5ODIgPSBtYXRoLmZsb29yKG1hdGgubWF4KC02MCwgbWF0aC5taW4oNjAsIHI4XzE5OFsyXSAtIHI2XzE5ODpnZXRfYW5pbV9zdGF0ZSgpLmN1cnJlbnRfZmVldF95YXcpKSk7CiAgICAgICAgICAgICAgICBpZiAobWF0aC5mbG9vcihtYXRoLm1heCgtNjAsIG1hdGgubWluKDYwLCByOF8xOThbMl0gLSByNl8xOTg6Z2V0X2FuaW1fc3RhdGUoKS5jdXJyZW50X2ZlZXRfeWF3KSkpIDwgKHI3XzE5OCArIDEpKSBhbmQgKChyN18xOTggLSAxKSA8IG1hdGguZmxvb3IobWF0aC5tYXgoLTYwLCBtYXRoLm1pbig2MCwgcjhfMTk4WzJdIC0gcjZfMTk4OmdldF9hbmltX3N0YXRlKCkuY3VycmVudF9mZWV0X3lhdykpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhbmcxID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fYW5nRXllQW5nbGVzWzFdIikgKiAoMTgwIC8gbWF0aC5waSkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhbmcyID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fYW5nRXllQW5nbGVzWzBdIikgKiAoMTgwIC8gbWF0aC5waSkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBkZWx0YSA9IG1hdGguZmxvb3IocjhfMTk4WzJdIC0gcjZfMTk4OmdldF9hbmltX3N0YXRlKCkuY3VycmVudF9mZWV0X3lhdyAqIHI2XzE5ODpnZXRfYW5pbV9vdmVybGF5KCkucGxheWJhY2tfcmF0ZSkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBkZWx0YTIgPSByOF8xOThbMl0gLSByOF8xOThbM10KICAgICAgICAgICAgICAgICAgICBsb2NhbCBsYXN0eWF3dXBkYXRlID0gZ2xvYmFscy50aWNrY291bnQoKSArIDEwCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgbW9kZWxzaWRlID0gZGVsdGEKCgogICAgICAgICAgICAgICAgICAgIGlmIGRlbHRhID4gMTgwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSAtIDM2MAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBkZWx0YSA8IC0xODAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGRlbHRhICsgMzYwCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHlhd3MgPSBkZWx0YQoKICAgICAgICAgICAgICAgICAgICBpZiBtYXRoLmFicyhkZWx0YSAtIGRlbHRhMikgPT0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyIsIHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyB2YWx1ZSIsIDApCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGlmIHZlbG9jaXR5ID09IDAgb3IgdmVsb2NpdHkgPT0gMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyIsIGZhbHNlKQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBkZWx0YSA9PSAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIGJvZHkgeWF3IiwgZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHI2XzE5ODpnZXRfYW5pbV9zdGF0ZSgpLmR1Y2tfYW1vdW50ID4gMC41IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIGJvZHkgeWF3IiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIGJvZHkgeWF3IHZhbHVlIiwgeWF3cyAvIDIpIAogICAgICAgICAgICAgICAgICAgIGVsc2VpZiByNDFfMTM4KGVudGl0eS5nZXRfcHJvcChyNF8xOTgsICJtX3ZlY1ZlbG9jaXR5IikpOmxlbmd0aDJkKCkgPCAyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIGJvZHkgeWF3IiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGVsc2VpZiBsYXN0eWF3dXBkYXRlID4gZ2xvYmFscy50aWNrY291bnQoKSBhbmQgZGVsdGEgPT0gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyB2YWx1ZSIsIG1vZGVsc2lkZSA+IDAgYW5kIDYwIG9yIC02MCkKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyIsIHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyB2YWx1ZSIsIHlhd3MpIAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlaWYgcjEwOV8xMzggPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgIGZvciByM18xOTggPSAxLCBnbG9iYWxzLm1heHBsYXllcnMoKSwgMSBkbwogICAgICAgICAgICAgICAgaWYgKHIyNV8xMzgocjNfMTk4KSA9PSAiQ0NTUGxheWVyIikgYW5kIChlbnRpdHkuZ2V0X3Byb3AocjNfMTk4LCAibV9pVGVhbU51bSIpIH49IGVudGl0eS5nZXRfcHJvcChyMjhfMTM4KCksICJtX2lUZWFtTnVtIikpIHRoZW4KICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocjNfMTk4LCAiRm9yY2UgYm9keSB5YXciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHIzXzE5OCwgIkZvcmNlIGJvZHkgeWF3IHZhbHVlIiwgMCk7CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHIxMDlfMTM4ID0gZmFsc2U7CiAgICAgICAgZW5kCiAgICBlbHNlaWYgdWkuZ2V0KG1pc2MuZGVsdGFfbW9kZSkgPT0gIkFJIFtBTFBIQV0iIHRoZW4KICAgIAogICAgICAgICAgICBpZiB1aS5nZXQobWlzYy5kZWx0YV9tb2RlKSA9PSAiQUkgW0FMUEhBXSIgdGhlbgogICAgICAgICAgICAgICAgcjEwOV8xMzggPSB0cnVlOwogICAgICAgICAgICAgICAgZm9yIHIzXzE5OCwgcjRfMTk4IGluIGlwYWlycyhlbnRpdHkuZ2V0X3BsYXllcnModHJ1ZSkpIGRvCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcjVfMTk4ID0ge3I4OV8wLmdldF9ib3VuZGluZ19ib3gocjRfMTk4KX07CiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcjZfMTk4ID0gcjM1XzEzOC5uZXcocjRfMTk4KTsKICAgICAgICAgICAgICAgICAgICBsb2NhbCByN18xOTggPSBtYXRoLmZsb29yKG1hdGgubWluKDYwLCAoZW50aXR5LmdldF9wcm9wKHI0XzE5OCwgIm1fZmxQb3NlUGFyYW1ldGVyIiwgMTEpICogMTIwKSAtIDYwKSk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcjhfMTk4ID0ge2VudGl0eS5nZXRfcHJvcChyNF8xOTgsICJtX2FuZ0V5ZUFuZ2xlcyIpfTsKICAgICAgICAgICAgICAgICAgICBsb2NhbCByOV8xOTggPSByMV8wLmJhbmQoZW50aXR5LmdldF9wcm9wKHI0XzE5OCwgIm1fZkZsYWdzIiksIDEpID09IDE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiB2ZWxvY2l0eSA9PSAwIG9yIHZlbG9jaXR5ID09IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIGJvZHkgeWF3IiwgZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiAobWF0aC5mbG9vcihtYXRoLm1heCgtNjAsIG1hdGgubWluKDYwLCByOF8xOThbMl0gLSByNl8xOTg6Z2V0X2FuaW1fc3RhdGUoKS5jdXJyZW50X2ZlZXRfeWF3KSkpIDwgKHI3XzE5OCArIDEpKSBhbmQgKChyN18xOTggLSAxKSA8IG1hdGguZmxvb3IobWF0aC5tYXgoLTYwLCBtYXRoLm1pbig2MCwgcjhfMTk4WzJdIC0gcjZfMTk4OmdldF9hbmltX3N0YXRlKCkuY3VycmVudF9mZWV0X3lhdykpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocjRfMTk4LCAiRm9yY2UgYm9keSB5YXciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcjEwXzE5OCA9IG1hdGguZmxvb3IocjhfMTk4WzJdICogcjZfMTk4OmdldF9hbmltX292ZXJsYXkoKS5wbGF5YmFja19yYXRlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1sb2NhbCByMTBfMTk4ID0gbWF0aC5tYXgoLTYwLCBtYXRoLm1pbig2MCwgcjhfMTk4WzJdIC0gcjZfMTk4OmdldF9hbmltX3N0YXRlKCkuY3VycmVudF9mZWV0X3lhdykpOyAtLSB0dSBiecWCIGZsb29yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXByaW50KHIxMF8xOTgpCgogICAgICAgICAgICAgICAgICAgICAgICAtLXIxMF8xOTggPSBub3JtYWxpemVfeWF3MShyMTBfMTk4KQogICAgICAgICAgICAgICAgICAgICAgICBpZiByODdfMC5pc19tZW51X29wZW4oKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSAgcGxpc3Quc2V0KHI0XzE5OCwgIkZvcmNlIGJvZHkgeWF3IiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gcGxpc3Quc2V0KHI0XzE5OCwgIkZvcmNlIGJvZHkgeWF3IHZhbHVlIiwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiByNDFfMTM4KGVudGl0eS5nZXRfcHJvcChyNF8xOTgsICJtX3ZlY1ZlbG9jaXR5IikpOmxlbmd0aDJkKCkgPCAyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocjRfMTk4LCAiRm9yY2UgYm9keSB5YXciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1wbGlzdC5zZXQocjRfMTk4LCAiRm9yY2UgYm9keSB5YXcgdmFsdWUiLCByMTBfMTk4KTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHI5XzE5OCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjEwXzE5OCA9IHIxMF8xOTggLyAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tIHBsaXN0LnNldChyNF8xOTgsICJGb3JjZSBib2R5IHlhdyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiByNl8xOTg6Z2V0X2FuaW1fc3RhdGUoKS5kdWNrX2Ftb3VudCA+IDAuNSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjEwXzE5OCA9IHIxMF8xOTggLyAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHIxMF8xOTggfj0gNjAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHIxMF8xOTggPT0gLTYwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHI0XzE5OCwgIkZvcmNlIGJvZHkgeWF3IiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChyNF8xOTgsICJGb3JjZSBib2R5IHlhdyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHI0XzE5OCwgIkZvcmNlIGJvZHkgeWF3IiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocjRfMTk4LCAiRm9yY2UgYm9keSB5YXcgdmFsdWUiLCByMTBfMTk4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiByMTA5XzEzOCA9PSB0cnVlIHRoZW4KICAgICAgICAgICAgICAgIGZvciByM18xOTggPSAxLCBnbG9iYWxzLm1heHBsYXllcnMoKSwgMSBkbwogICAgICAgICAgICAgICAgICAgIGlmIChyMjVfMTM4KHIzXzE5OCkgPT0gIkNDU1BsYXllciIpIGFuZCAoZW50aXR5LmdldF9wcm9wKHIzXzE5OCwgIm1faVRlYW1OdW0iKSB+PSBlbnRpdHkuZ2V0X3Byb3AocjI4XzEzOCgpLCAibV9pVGVhbU51bSIpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChyM18xOTgsICJGb3JjZSBib2R5IHlhdyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHIzXzE5OCwgIkZvcmNlIGJvZHkgeWF3IHZhbHVlIiwgMCk7CiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHIxMDlfMTM4ID0gZmFsc2U7CiAgICAgICAgICAgIGVuZAoKICAgIGVuZAoKICAgICAgICB5YXdfc2F2ZSA9IHBsaXN0LmdldChwbGF5ZXIsICJGb3JjZSBib2R5IHlhdyB2YWx1ZSIpCiAgICBlbmQKCiAgICBsb2NhbCBwaXRjaF90aW1lID0gMAogICAgbG9jYWwgZnVuY3Rpb24gUmVzb2x2ZVBpdGNoRXhwKHBsYXllciwgZXlleCkKICAgICAgICBpZiBwbGF5ZXIgdGhlbgogICAgICAgICAgICBwaXRjaF90aW1lID0gcGl0Y2hfdGltZSArMQogICAgICAgICAgICBpZiBleWV4IDwgLTU2IHRoZW4KICAgICAgICAgICAgICAgIGlmIHBpdGNoX3RpbWUgPCA2IGFuZCBwaXRjaF90aW1lID4gMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIHBpdGNoIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocGxheWVyLCAiRm9yY2UgcGl0Y2ggdmFsdWUiLCBleWV4KQogICAgICAgICAgICAgICAgICAgIHBpdGNoRGV0ZWN0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHBpdGNoX3RpbWUgPSAwCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgcGl0Y2hfdGltZSA9IDAKICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQocGxheWVyLCAiRm9yY2UgcGl0Y2giLCBmYWxzZSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBwaXRjaF90aW1lID0gMAogICAgICAgICAgICAgICAgcGxpc3Quc2V0KHBsYXllciwgIkZvcmNlIHBpdGNoIiwgZmFsc2UpCiAgICAgICAgICAgICAgICBwaXRjaERldGVjdCA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gUmVzb2x2ZXIocGxheWVyKQogICAgICAgIGlmIGNvbnRhaW5zKG1pc2MubWlzY19tZW51LCAiUmVzb2x2ZXIiKSB0aGVuCiAgICAgICAgICAgIGlmIGVudGl0eS5pc19kb3JtYW50KHBsYXllcikgb3IgZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fYkRvcm1hbnQiKSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGxvY2FsIGN1cnJlbnRZYXcgPSBlbnRpdHkuZ2V0X3Byb3AocGxheWVyLCAibV9mbExvd2VyQm9keVlhd1RhcmdldCIpCiAgICAgICAgICAgIGxvY2FsIGN1cnJlbnRFeWVBbmdsZXNYID0gZW50aXR5LmdldF9wcm9wKHBsYXllciwgIm1fYW5nRXllQW5nbGVzWzBdIikKICAgICAgICAgICAgbG9jYWwgY3VycmVudEV5ZUFuZ2xlc1kgPSBlbnRpdHkuZ2V0X3Byb3AocGxheWVyLCAibV9hbmdFeWVBbmdsZXNbMV0iKQoKCiAgICAgICAgICAgIGlmIGNvbnRhaW5zKG1pc2Mub3RoZXJfbWVudSwgIkRlZmVuc2l2ZSBSZXNvbHZlciIpIHRoZW4KICAgICAgICAgICAgICAgIGZvciBrLGVudCBpbiBpcGFpcnMoZW50aXR5LmdldF9wbGF5ZXJzKHRydWUpKSBkbwogICAgICAgICAgICAgICAgICAgIGxvY2FsIGp1bXAgPSBiaXQuYmFuZChlbnRpdHkuZ2V0X3Byb3AoZW50LCAibV9mRmxhZ3MiKSwgMSkgCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgeSxwID0gZW50aXR5LmdldF9wcm9wKGVudCwibV9hbmdFeWVBbmdsZXMiKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGVudF9mbGFncyA9IGVudGl0eS5nZXRfZXNwX2RhdGEoZW50KS5mbGFncwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiBqdW1wID09IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiB5IDwgLTEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KGVudCwiRm9yY2UgcGl0Y2giLHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQoZW50LCJGb3JjZSBwaXRjaCB2YWx1ZSIsMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LnNldChlbnQsIkZvcmNlIGJvZHkgeWF3Iix0cnVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxpc3Quc2V0KGVudCwiRm9yY2UgYm9keSB5YXcgdmFsdWUiLDApCiAgICAgICAgICAgICAgICAgICAgICAgIC0tICB1aS5zZXQoYWNjdXJhY3lfYm9vc3QsICJMb3ciKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGlzdC5zZXQoZW50LCJGb3JjZSBwaXRjaCIsZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIC0tICB1aS5zZXQoYWNjdXJhY3lfYm9vc3QsIGFjY3VyYWN5X2Jvb3N0X3NhdmUpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgUmVzb2x2ZUppdHRlcihwbGF5ZXIpCiAgICAgICAgZW5kCgogICAgICAgIGlmIG5vdCBjb250YWlucyhtaXNjLm1pc2NfbWVudSwgIlJlc29sdmVyIikgdGhlbgogICAgICAgICAgICBwbGlzdC5zZXQocGxheWVyLCAiRm9yY2UgYm9keSB5YXciLCBmYWxzZSkgIAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gcHJpbnREZWJ1Z0xvZyhtZXNzYWdlKQogICAgICAgIGNsaWVudF9jb2xvcl9sb2coMjU1LCAyNTUsIDI1NSwgbWVzc2FnZSkKICAgIGVuZAoKCiAgICBsb2NhbCBwaXRjaF90aW1lID0gMAogICAgbG9jYWwgZnVuY3Rpb24gUmVzb2x2ZVBpdGNoRXhwKHBsYXllciwgZXlleCkKICAgICAgICBpZiBwbGF5ZXIgdGhlbgogICAgICAgICAgICBwaXRjaF90aW1lID0gcGl0Y2hfdGltZSArMQogICAgICAgICAgICBpZiBleWV4IDwgLTU2IHRoZW4KICAgICAgICAgICAgICAgIGlmIHBpdGNoX3RpbWUgPCA1IGFuZCBwaXRjaF90aW1lID4gMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcGxpc3Rfc2V0KHBsYXllciwgIkZvcmNlIHBpdGNoIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICBwbGlzdF9zZXQocGxheWVyLCAiRm9yY2UgcGl0Y2ggdmFsdWUiLCBleWV4KQogICAgICAgICAgICAgICAgICAgIHBpdGNoRGV0ZWN0ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHBpdGNoX3RpbWUgPSAwCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgcGl0Y2hfdGltZSA9IDAKICAgICAgICAgICAgICAgICAgICBwbGlzdF9zZXQocGxheWVyLCAiRm9yY2UgcGl0Y2giLCBmYWxzZSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBwaXRjaF90aW1lID0gMAogICAgICAgICAgICAgICAgcGxpc3Rfc2V0KHBsYXllciwgIkZvcmNlIHBpdGNoIiwgZmFsc2UpCiAgICAgICAgICAgICAgICBwaXRjaERldGVjdCA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gUmVzb2x2ZXJVcGRhdGUoKQogICAgICAgIGxvY2FsIGVuZW1pZXMgPSBlbnRpdHlfZ2V0X3BsYXllcnModHJ1ZSkKICAgICAgICBmb3IgaSwgZW5lbXlfZW50IGluIGlwYWlycyhlbmVtaWVzKSBkbwogICAgICAgICAgICBpZiBlbmVteV9lbnQgYW5kIGVudGl0eV9pc19hbGl2ZShlbmVteV9lbnQpIGFuZCBlbnRpdHlfZ2V0X3Byb3AoZW5lbXlfZW50LCAibV9pVGVhbU51bSIpIH49IGVudGl0eV9nZXRfcHJvcChlbnRpdHlfZ2V0X2xvY2FsX3BsYXllcigpLCAibV9pVGVhbU51bSIpIHRoZW4KICAgICAgICAgICAgICAgIFJlc29sdmVyKGVuZW15X2VudCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBoaXRncm91cF9uYW1lcyA9IHsKICAgICAgICAiZ2VuZXJpYyIsCiAgICAgICAgImhlYWQiLAogICAgICAgICJjaGVzdCIsCiAgICAgICAgInN0b21hY2giLAogICAgICAgICJsZWZ0IGFybSIsCiAgICAgICAgInJpZ2h0IGFybSIsCiAgICAgICAgImxlZnQgbGVnIiwKICAgICAgICAicmlnaHQgbGVnIiwKICAgICAgICAibmVjayIsCiAgICAgICAgIj8iLAogICAgICAgICJnZWFyIgogICAgfQoKCiAgICBsb2NhbCBmdW5jdGlvbiBhaW1fbWlzcyhlKQogICAgICAgIGlmIGUucmVhc29uID09ICI/IiB0aGVuCiAgICAgICAgICAgIG1pc3Nfc2F2ZSA9IG1pc3Nfc2F2ZSArIDEKICAgICAgICAgICAgbG9jYWwgZ3JvdXAgPSBoaXRncm91cF9uYW1lc1tlLmhpdGdyb3VwICsgMV0gb3IgIj8iCiAgICAgICAgLS0gbG9jYWwgZGVsX21vZGUgPSB1aS5nZXQobWlzYy5kZWx0YV9tb2RlKQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgV2ViaG9vayA9IGRpc2NvcmQubmV3KCJoIikKICAgICAgICAgICAgZGlzY29yZC5uZXcoImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzExMzI2MzU3MTQzNTAyMTkzMDUvc0l1NG5fWDBQSEVNVVAyZXBkb1BnWXlJMUh0c3ZvZUFEX3JJWi03alZlQ0VCblU2b1NTQ1VteHVmVW5mbmpVZUNiWUQiKQogICAgICAgICAgICBXZWJob29rOnNlbmQoImBgYCIuLiBlbnRpdHkuZ2V0X3BsYXllcl9uYW1lKGVudGl0eS5nZXRfbG9jYWxfcGxheWVyKCkpLi4gIiDQvNC40YHRgdC90YPQuyDQvdCw0YXRg9C5ICIuLmVudGl0eS5nZXRfcGxheWVyX25hbWUoZS50YXJnZXQpLi4gIiAoIi4uZ3JvdXAuLiIpIHlhdzogIi4uIHlhd19zYXZlLi4gIiBtaXNzOiAiLi4gbWlzc19zYXZlLi4iYGBgIikKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGFpbV9maXJlKGUpCiAgICAgICAgbG9jYWwgZ3JvdXAgPSBoaXRncm91cF9uYW1lc1tlLmhpdGdyb3VwICsgMV0gb3IgIj8iCiAgICAgICAgaWYgY29udGFpbnMobWlzYy5taXNjX21lbnUsICJIaXRsb2dzIikgdGhlbgogICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgIHN0cmluZy5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgIltPcGVuIEFJIFJlc29sdmVyXSBGaXJlZCBhdCAlcyAoJXMpIGZvciAlZCBkYW1hZ2UgKGhjPSVkJSUsIHlhdz0laSwgbWlzcz0laSkiLAogICAgICAgICAgICAgICAgICAgIGVudGl0eV9nZXRfcGxheWVyX25hbWUoZS50YXJnZXQpLAogICAgICAgICAgICAgICAgICAgIGdyb3VwLAogICAgICAgICAgICAgICAgICAgIGUuZGFtYWdlLAogICAgICAgICAgICAgICAgICAgIG1hdGhfZmxvb3IoZS5oaXRfY2hhbmNlICsgMC41KSwKICAgICAgICAgICAgICAgICAgICB5YXdfc2F2ZSwgCiAgICAgICAgICAgICAgICAgICAgbWlzc19zYXZlKQogICAgICAgICAgICAgICAgLS1wcmludERlYnVnTG9nKGxvZ01lc3NhZ2UpCiAgICAgICAgICAgICkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGFpbV9oaXQoZSkKICAgICAgICBtaXNzX3NhdmUgPSAwCiAgICBlbmQKCiAgICBjbGllbnQuc2V0X2V2ZW50X2NhbGxiYWNrKCdyb3VuZF9zdGFydCcsIGZ1bmN0aW9uKCkKICAgICAgICBtaXNzX3NhdmUgPSAwCiAgICBlbmQpCgogICAgY2xpZW50X3NldF9ldmVudF9jYWxsYmFjaygiYWltX2hpdCIsIGFpbV9oaXQpCiAgICBjbGllbnRfc2V0X2V2ZW50X2NhbGxiYWNrKCJhaW1fZmlyZSIsIGFpbV9maXJlKQogICAgY2xpZW50X3NldF9ldmVudF9jYWxsYmFjaygic2V0dXBfY29tbWFuZCIsIFJlc29sdmVyVXBkYXRlKQogICAgY2xpZW50X3NldF9ldmVudF9jYWxsYmFjaygiYWltX21pc3MiLCBhaW1fbWlzcykKCiAgICBmdW5jdGlvbiBhbmdfb25fc2NyZWVuKHgsIHkpCiAgICAgICAgaWYgeCA9PSAwIGFuZCB5ID09IDAgdGhlbiByZXR1cm4gMCBlbmQKCiAgICAgICAgcmV0dXJuIG1hdGguZGVnKG1hdGguYXRhbjIoeSwgeCkpCiAgICBlbmQKCiAgICBmdW5jdGlvbiBub3JtYWxpemVfeWF3KHlhdykKICAgICAgICB3aGlsZSB5YXcgPiAxODAgZG8geWF3ID0geWF3IC0gMzYwIGVuZAogICAgICAgIHdoaWxlIHlhdyA8IC0xODAgZG8geWF3ID0geWF3ICsgMzYwIGVuZAogICAgICAgIHJldHVybiB5YXcKICAgIGVuZAoKICAgIGZ1bmN0aW9uIGFuZ19vbl9zY3JlZW4oeCwgeSkKICAgICAgICBpZiB4ID09IDAgYW5kIHkgPT0gMCB0aGVuIHJldHVybiAwIGVuZAoKICAgICAgICByZXR1cm4gbWF0aC5kZWcobWF0aC5hdGFuMih5LCB4KSkKICAgIGVuZAoKCiAgICBsb2NhbCBiZXN0X2VuZW15ID0gbmlsCiAgICBmdW5jdGlvbiBnZXRfYmVzdF9lbmVteSgpCiAgICAgICAgYmVzdF9lbmVteSA9IG5pbAoKICAgICAgICBsb2NhbCBlbmVtaWVzID0gZW50aXR5LmdldF9wbGF5ZXJzKHRydWUpCiAgICAgICAgbG9jYWwgYmVzdF9mb3YgPSAxODAKCiAgICAgICAgbG9jYWwgbHgsIGx5LCBseiA9IGNsaWVudC5leWVfcG9zaXRpb24oKQogICAgICAgIGxvY2FsIHZpZXdfeCwgdmlld195LCByb2xsID0gY2xpZW50LmNhbWVyYV9hbmdsZXMoKQogICAgICAgIAogICAgICAgIGZvciBpPTEsICNlbmVtaWVzIGRvCiAgICAgICAgICAgIGxvY2FsIGN1cl94LCBjdXJfeSwgY3VyX3ogPSBlbnRpdHkuZ2V0X3Byb3AoZW5lbWllc1tpXSwgIm1fdmVjT3JpZ2luIikKICAgICAgICAgICAgbG9jYWwgY3VyX2ZvdiA9IG1hdGguYWJzKG5vcm1hbGl6ZV95YXcoYW5nX29uX3NjcmVlbihseCAtIGN1cl94LCBseSAtIGN1cl95KSAtIHZpZXdfeSArIDE4MCkpCiAgICAgICAgICAgIGlmIGN1cl9mb3YgPCBiZXN0X2ZvdiB0aGVuCiAgICAgICAgICAgICAgICBiZXN0X2ZvdiA9IGN1cl9mb3YKICAgICAgICAgICAgICAgIGJlc3RfZW5lbXkgPSBlbmVtaWVzW2ldCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgY2xpZW50LnNldF9ldmVudF9jYWxsYmFjaygKICAgICAgICAicGFpbnQiLAogICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgY29udGFpbnMobWlzYy5taXNjX21lbnUsICJEZWJ1ZyIpIHRoZW4KICAgICAgICAgICAgICAgIGdldF9iZXN0X2VuZW15KCkKICAgICAgICAgICAgICAgIGxvY2FsIHRhcmdldCA9IGJlc3RfZW5lbXkKICAgICAgICAgICAgICAgIGxvY2FsIGRlc3luY19hbW91bnQgPSBhbnRpYWltX2Z1bmNzLmdldF9kZXN5bmMoMikKICAgICAgICAgICAgICAgIGxvY2FsIHhkID0gYW50aWFpbV9mdW5jcy5nZXRfdGlja2Jhc2Vfc2hpZnRpbmcoKQogICAgICAgICAgICAgICAgbG9jYWwgeGQyID0gYW50aWFpbV9mdW5jcy5nZXRfYm9keV95YXcoMikKICAgICAgICAgICAgICAgIGxvY2FsIHNpemVYLCBzaXplWSA9IGNsaWVudC5zY3JlZW5fc2l6ZSgpCiAgICAgICAgICAgIC0tICByZW5kZXJlci50ZXh0KHNpemVYIC8gMiAtIDkxMCwgc2l6ZVkgLyAyICsgNCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAiYy0iLCAwLCAiVVNFUk5BTUU6ICIgLi4gc3RyaW5nLnVwcGVyKGxvZ2luLnVzZXJuYW1lKSkKICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHQoc2l6ZVggLyAyIC0gOTEwLCBzaXplWSAvIDIgKyAxNCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAiYy0iLCAwLCAiIiAuLiAiIikKICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHQoc2l6ZVggLyAyIC0gOTEwLCBzaXplWSAvIDIgKyAyNCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAiYy0iLCAwLCAiVEFSR0VUIE5BTUU6ICIgLi4gc3RyaW5nLnVwcGVyKGVudGl0eS5nZXRfcGxheWVyX25hbWUodGFyZ2V0KSkpCiAgICAgICAgICAgICAgICByZW5kZXJlci50ZXh0KHNpemVYIC8gMiAtIDkxMCwgc2l6ZVkgLyAyICsgMzQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgImMtIiwgMCwgIkVORU1ZIFlBVzogIiAuLiB5YXdfc2F2ZSkKICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHQoc2l6ZVggLyAyIC0gOTEwLCBzaXplWSAvIDIgKyA0NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAiYy0iLCAwLCAiT0xEIFRBUkdFVCBWQUxVRTogIiAuLiB5YXdfc2F2ZSAvIDIgb3IgeWF3X3NhdmUgKiAyKQogICAgICAgICAgICAgICAgcmVuZGVyZXIudGV4dChzaXplWCAvIDIgLSA5MTAsIHNpemVZIC8gMiArIDU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsICJjLSIsIDAsICJFTkVNWSBCT0RZIFlBVzogIiAuLiBtYXRoLmZsb29yKHhkMikpCiAgICAgICAgICAgICAgICByZW5kZXJlci50ZXh0KHNpemVYIC8gMiAtIDkxMCwgc2l6ZVkgLyAyICsgNjQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgImMtIiwgMCwgIkVYUExPSVQgVElDS1M6ICIgLi4geGQpIAogICAgICAgICAgICAgICAgcmVuZGVyZXIudGV4dChzaXplWCAvIDIgLSA5MTAsIHNpemVZIC8gMiArIDc0LCAyNTUsIDI1NSwgMjU1LCAyNTUsICJjLSIsIDAsICJBSU1USU1FIERFTFRBOiAiIC4uIHlhd19zYXZlICogMikKICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHQoc2l6ZVggLyAyIC0gOTEwLCBzaXplWSAvIDIgKyA4NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAiYy0iLCAwLCAiQ0hPS0U6ICIgLi4gZ2xvYmFscy5jaG9rZWRjb21tYW5kcygpKQogICAgICAgICAgICAgICAgcmVuZGVyZXIudGV4dChzaXplWCAvIDIgLSA5MTAsIHNpemVZIC8gMiArIDk0LCAyNTUsIDI1NSwgMjU1LCAyNTUsICJjLSIsIDAsICJPVkVSTEFQOiAiIC4uIG1hdGguZmxvb3IoYW50aWFpbV9mdW5jcy5nZXRfb3ZlcmxhcCgpICogMTAwKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICApCgoKICAgIC0tIGxvY2FsIGRlbHRhMiA9IGFuZ2xlX3RvKGxvY2FsX29yaWdpbikKICAgIC0tIGxvY2FsIGRlbHRhMiA9IE5vcm1hbGl6ZUFuZ2xlKGN1cnJlbnRFeWVBbmdsZXNZIC0gY3VycmVudFlhdykKICAgICAgICAtLWxvY2FsIGFjdHVhbGRlbHRhID0gbWF0aC5kZWcobWF0aC5hdGFuMihlbnRpdHlfZ2V0X3Byb3AocGxheWVyLCAibV9hbmdFeWVBbmdsZXNbMV0iKSAtIGVudGl0eV9nZXRfcHJvcChwbGF5ZXIsICJtX2ZsTG93ZXJCb2R5WWF3VGFyZ2V0IiksIGVudGl0eV9nZXRfcHJvcChwbGF5ZXIsICJtX2FuZ0V5ZUFuZ2xlc1swXSIpKSkKICAgICAgICAtLSBsb2NhbCBhbmdsZTIgPSBtYXRoLmRlZyhtYXRoLmF0YW4yKG1hdGguc2luKG1hdGgucmFkKGN1cnJlbnRFeWVBbmdsZXNZIC0gY3VycmVudFlhdykpLCBtYXRoLmNvcyhtYXRoLnJhZChjdXJyZW50RXllQW5nbGVzWCAtIGN1cnJlbnRZYXcpKSkpCiAgICAgICAgLS0gbG9jYWwgYWN0dWFsZGVsdGEgPSBOb3JtYWxpemVBbmdsZShhbmdsZTIgLSBjdXJyZW50WWF3KQoKICAgICAgICAgICAgLS1sb2NhbCBkZWx0YTIgPSBtYXRoLmRlZyhtYXRoLmF0YW4yKG1hdGguc2luKG1hdGgucmFkKGN1cnJlbnRFeWVBbmdsZXNZIC0gY3VycmVudFlhdykpLCBtYXRoLmNvcyhtYXRoLnJhZChjdXJyZW50RXllQW5nbGVzWCAtIGN1cnJlbnRZYXcpKSkpCiAgICAgICAgLS1sb2NhbCBleWVBbmdsZXNZID0gZW50aXR5X2dldF9wcm9wKHBsYXllciwgIm1fYW5nRXllQW5nbGVzWzFdIikKICAgICAgICAtLWxvY2FsIGxvd2VyQm9keVlhd1RhcmdldDIgPSBlbnRpdHlfZ2V0X3Byb3AocGxheWVyLCAibV9mbExvd2VyQm9keVlhd1RhcmdldCIpCiAgICAtLSBsb2NhbCBkZWx0YTIgPSBOb3JtYWxpemVBbmdsZShleWVBbmdsZXNZIC0gbG93ZXJCb2R5WWF3VGFyZ2V0MikKCiAgICAgICAgLS1sb2NhbCBhbmdsZUJldHdlZW5SYWRpYW5zID0gbWF0aC5hdGFuMihtYXRoLnNpbihjdXJyZW50RXllQW5nbGVzWSAtIGN1cnJlbnRZYXcpLCBtYXRoLmNvcyhjdXJyZW50RXllQW5nbGVzWSAtIGN1cnJlbnRZYXcpKQogICAgLS0gbG9jYWwgYWN0dWFsZGVsdGEgPSBOb3JtYWxpemVBbmdsZShtYXRoLmRlZyhhbmdsZUJldHdlZW5SYWRpYW5zKSkK"}